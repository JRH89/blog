---
title: "Creating a GUI Application to Download YouTube Media Using yt-dlp, Python, and FFmpeg"
description: "In this detailed guide, we'll create a Python GUI application that allows users to download media from YouTube using yt-dlp and convert it to either MP3 or MP4 format."
image: "../../public/blogs/fm-gui/fm-gui-cover.png"
publishedAt: "2024-06-16"
updatedAt: "2024-06-16"
author: "Jared Hooker"
isPublished: true
tags: 
  - python
---

<img 
  src="/blogs/fm-gui/fm-gui.png" 
  width="415" 
  height="536" 
  alt="Image" 
  sizes="100vW" 
/>

# Disclaimer

This application is provided for entertainment and educational purposes only. I do not promote or condone the unauthorized downloading, distribution, or use of copyrighted content. Users of this application are responsible for ensuring that their use of the software complies with all applicable local, national, and international laws and regulations. Please respect the rights of content creators and adhere to the terms of service of the platforms from which you are downloading media. Use this tool responsibly.

# Creating a GUI Application to Download YouTube Media Using yt-dlp, Python, and FFmpeg

In this detailed guide, we'll create a Python GUI application that allows users to download media from YouTube using yt-dlp and convert it to either MP3 or MP4 format. The application will be built using the tkinter library for the GUI, and we'll use yt-dlp and ffmpeg for downloading and converting the videos. Finally, we'll use PyInstaller to package the application into an executable that can be easily shared with others.

>yt-dlp is a fork of the popular youtube-dl project, created to address issues and add new features more rapidly. It has become a preferred choice for many due to its active development and support for a wide range of sites.
>

## Prerequisities

1. Python: Ensure you have Python installed on your system. You can download it from the official Python website (https://www.python.org/).

2. yt-dlp: Install yt-dlp using pip:

```bash
pip install yt-dlp
```

3. FFmpeg: Download and install FFmpeg from the official FFmpeg website (https://ffmpeg.org/download.html). Make sure to add FFmpeg to your system PATH.

    a. **Open System Properties:**

        - Press `Win + R` to open the Run dialog.

        - Type `sysdm.cpl` and press Enter. This opens the System Properties window.

    b. **Access Environment Variables:**

        - In the System Properties window, click on the "Advanced" tab.

        - Click on the "Environment Variables..." button at the bottom.

    c. **Edit System Variables:**

        - In the Environment Variables window, under "System Variables", find and select the Path variable.

        - Click on the "Edit..." button.

    d. **Add FFmpeg Path:**

        - In the Edit Environment Variable window, click on 'New' to add a new entry.

        - Enter the path to the directory where you extracted FFmpeg. For example, if you extracted FFmpeg to `C:\ffmpeg`, add `C:\ffmpeg\bin` to the list.

        - Click "OK" to close each window.

        - You may or may not need to perform a system restart. If the next step fails to return a version for ffmpeg, you can restart your machine and pick up where you left off (Step `e` below).

    e. **Verify FFmpeg Installation:**

        - Open a new Command Prompt window (`Win + R`, type `cmd`, then Enter).

        - Type `ffmpeg -version` and press Enter.

        - You should see the FFmpeg version and configuration details printed in the Command Prompt if FFmpeg is correctly installed and added to the PATH. If you get an error, refer to step `d.4` above.

4. tkinter: This comes pre-installed with Python. If not, you can install it using:

```bash
pip install tk
```

5. PyInstaller: Install PyInstaller using pip:

```bash
pip install pyinstaller
```

## Step-by-Step Guide

**1. Setting Up the Project**

Create a new directory for your project and navigate into it:

```bash
mkdir yt_downloader
cd yt_downloader
```

>yt-dlp supports downloading from over 1000 websites, including YouTube, Vimeo, Dailymotion, and many more, making it highly versatile for various content sources.
>

**2. Writing the Python Script**

Create a new Python file called yt_downloader.py and open it in your favorite text editor.

```python
import os
import subprocess
import tkinter as tk
from tkinter import filedialog, messagebox
import yt_dlp

def download_video(url, download_path):
    ydl_opts = {
        'outtmpl': os.path.join(download_path, '%(title)s.%(ext)s'),
        'format': 'mp4',
    }
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        ydl.download([url])

def download_audio(url, download_path):
    ydl_opts = {
        'outtmpl': os.path.join(download_path, '%(title)s.%(ext)s'),
        'format': 'bestaudio/best',
        'postprocessors': [{
            'key': 'FFmpegExtractAudio',
            'preferredcodec': 'mp3',
            'preferredquality': '192',
        }],
    }
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        ydl.download([url])

def download():
    url = url_entry.get()
    download_path = filedialog.askdirectory()
    if not download_path:
        messagebox.showwarning("Warning", "Please select a download directory")
        return
    if var.get() == 1:
        download_video(url, download_path)
    elif var.get() == 2:
        download_audio(url, download_path)
    messagebox.showinfo("Success", "Download completed!")

app = tk.Tk()
app.title("YouTube Downloader")

tk.Label(app, text="YouTube URL:").grid(row=0, column=0, padx=10, pady=10)
url_entry = tk.Entry(app, width=50)
url_entry.grid(row=0, column=1, padx=10, pady=10)

var = tk.IntVar()
tk.Radiobutton(app, text="Download MP4", variable=var, value=1).grid(row=1, column=0, padx=10, pady=10)
tk.Radiobutton(app, text="Download MP3", variable=var, value=2).grid(row=1, column=1, padx=10, pady=10)

tk.Button(app, text="Download", command=download).grid(row=2, column=0, columnspan=2, pady=20)

app.mainloop()
```

**3. Explanation of the Code**

- Dependencies: The script uses tkinter for the GUI, yt-dlp for downloading videos, and ffmpeg for converting videos to audio.

- Functions:

    - download_video: Downloads the video in MP4 format using `yt-dlp`.

    - download_audio: Downloads the video in the best audio format and then converts it to MP3 using `ffmpeg`.

- GUI Setup:

    - A text entry for the YouTube URL.

    - Radio buttons to select between MP4 and MP3.

    - A button to start the download process.

**4. Creating an Executable with PyInstaller**

To package the script into an executable, use PyInstaller:

```bash
pyinstaller --onefile yt_downloader.py
```

This command will generate a dist folder containing the yt_downloader.exe file.

>PyInstaller can handle complex applications, including those with multiple modules, dynamic imports, and non-Python files, ensuring that all necessary components are bundled together.
>

**5. Distributing the Executable**

Once you have created the yt_downloader.exe file using PyInstaller, you can share it with others who use Windows. Here are some important points to consider:

- **Stand-Alone Execution:** The yt_downloader.exe file is a stand-alone executable that can be run on Windows systems without requiring Python, yt-dlp, or FFmpeg to be separately installed. This makes it easy for anyone to use the application without additional dependencies.

- **Limitations:** While the application can download videos and save them in MP3 format, it does not support converting already downloaded MP4 videos to MP3 directly within the application. Users will need to use separate tools or online services to convert MP4 videos to MP3 format if needed.

- **Converting MP4 to MP3:** There are several free tools and online converters available for converting MP4 videos to MP3 format. Here are a few popular resources:

    - Online Audio Converter (https://online-audio-converter.com/)

    - Freemake Video Converter (https://www.freemake.com/2/)

These resources provide user-friendly interfaces for converting videos to various audio formats, including MP3.

## Caveats and Recommendations

- **Dependency on FFmpeg:** Although the yt_downloader.exe does not require FFmpeg to be installed separately on the user's system, the ability to extract MP3 directly from MP4 videos is limited to downloading directly as MP4 using yt-dlp.

- **Sharing the Application:** When sharing yt_downloader.exe, ensure that recipients are aware of the limitations regarding downloading media. This will help manage expectations and guide users towards appropriate tools for any additional conversions they may need.

## FAQ

**Do I need to install FFmpeg separately?**

Yes, FFmpeg needs to be installed and added to your system PATH.

**What if I encounter errors during the download process?**

Ensure that the URL is correct and that you have a stable internet connection. Also, check that yt-dlp and ffmpeg are properly installed.

**Can I download videos in other formats?**

Yes, you can customize the ydl_opts in the script to specify different formats.

**How can I add more features to this application?**

You can enhance the GUI to include more options, such as selecting video quality, downloading subtitles, etc., by modifying the ydl_opts in the script.

## Final Code:

```python
import os
import subprocess
import tkinter as tk
from tkinter import filedialog, messagebox
import yt_dlp

def download_video(url, download_path):
    ydl_opts = {
        'outtmpl': os.path.join(download_path, '%(title)s.%(ext)s'),
        'format': 'mp4',
    }
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        ydl.download([url])

def download_audio(url, download_path):
    ydl_opts = {
        'outtmpl': os.path.join(download_path, '%(title)s.%(ext)s'),
        'format': 'bestaudio/best',
        'postprocessors': [{
            'key': 'FFmpegExtractAudio',
            'preferredcodec': 'mp3',
            'preferredquality': '192',
        }],
    }
    with yt_dlp.YoutubeDL(ydl_opts) as ydl:
        ydl.download([url])

def download():
    url = url_entry.get()
    download_path = filedialog.askdirectory()
    if not download_path:
        messagebox.showwarning("Warning", "Please select a download directory")
        return
    if var.get() == 1:
        download_video(url, download_path)
    elif var.get() == 2:
        download_audio(url, download_path)
    messagebox.showinfo("Success", "Download completed!")

app = tk.Tk()
app.title("YouTube Downloader")

tk.Label(app, text="YouTube URL:").grid(row=0, column=0, padx=10, pady=10)
url_entry = tk.Entry(app, width=50)
url_entry.grid(row=0, column=1, padx=10, pady=10)

var = tk.IntVar()
tk.Radiobutton(app, text="Download MP4", variable=var, value=1).grid(row=1, column=0, padx=10, pady=10)
tk.Radiobutton(app, text="Download MP3", variable=var, value=2).grid(row=1, column=1, padx=10, pady=10)

tk.Button(app, text="Download", command=download).grid(row=2, column=0, columnspan=2, pady=20)

app.mainloop()
```

>FFmpeg's libraries, such as libavcodec, libavformat, and libavutil, are used by many software applications to handle multimedia content, including VLC media player, HandBrake, and many others.
>

## How to Use:

Double click the .exe to open the GUI. Enter the url where the media you intend to download is located. Choose whether to download the 'MP4' or 'MP3'. Wait for results.

<img 
  src="/blogs/fm-gui/fm-gui-cover.png" 
  width="415" 
  height="536" 
  alt="Image" 
  style={{ display: 'block', margin: '0 auto', width: '100%', paddingBottom: '20px' }} 
/>


## Useful Links and resources

- **yt-dlp:** For more information about yt-dlp, visit the official yt-dlp GitHub repository (https://github.com/yt-dlp/yt-dlp). This repository contains comprehensive documentation, installation instructions, and usage examples.

- **Supported Sites:** A full list of supported sites whose URLs can be used with yt-dlp for downloading can be found here. This list includes a wide variety of video hosting and streaming platforms.

## Disclaimer

This application is provided for entertainment and educational purposes only. I do not promote or condone the unauthorized downloading, distribution, or use of copyrighted content. Users of this application are responsible for ensuring that their use of the software complies with all applicable local, national, and international laws and regulations. Please respect the rights of content creators and adhere to the terms of service of the platforms from which you are downloading media. Use this tool responsibly.

# Conclusion

In this guide, we've walked through the steps to create a YouTube downloader with a GUI using Python, yt-dlp, and ffmpeg. We also covered how to package the application into an executable using PyInstaller. With this knowledge, you can further customize and expand the application to fit your needs.

